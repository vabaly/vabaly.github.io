(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{442:function(t,e,n){"use strict";n.r(e);var r=n(443),i=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(u);e.default=i.a},443:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,u){function a(t){try{l(r.next(t))}catch(t){u(t)}}function s(t){try{l(r.throw(t))}catch(t){u(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},u=this&&this.__generator||function(t,e){var n,r,i,u,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function s(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var u=arguments[e],a=0,s=u.length;a<s;a++,i++)r[i]=u[a];return r},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l,o=s(n(0)),c=s(n(498)),f=n(466),p=n(467);function d(){return i(this,void 0,void 0,(function(){var t,e,n;return u(this,(function(r){switch(r.label){case 0:return t=[],[4,p.getFundInfo(f.FundType.Cash)];case 1:return e=r.sent(),[4,p.getFundInfo(f.FundType.Bond)];case 2:return n=r.sent(),e&&t.push(e),n&&t.push(n),[2,t]}}))}))}function h(){for(var t=[],e=(new Date).getFullYear()-1,n=0;n<8;n++){var r=e-n;t.push(r)}return t}function v(t,e){var n=(null==t?void 0:t.income.value)||0;return((null==e?void 0:e.income.value)||0)-n}!function(t){t[t.Month=0]="Month",t[t.Year=1]="Year"}(l||(l={})),e.default=o.default.extend({data:function(){var t;return{fundTypeMapToName:(t={},t[f.FundType.Cash]="货币基金",t[f.FundType.Bond]="债券基金",t),years:h(),fundList:[],fundFilters:[],currentFundType:f.FundType.Cash}},computed:{currentFundFilter:function(){var t=this;return this.fundFilters.filter((function(e){return e.type===t.currentFundType})).pop()},yearsRender:function(){return c.default.chunk(this.years,3)},currentFundList:function(){var t=this.fundList,e=this.currentFundType,n=t.filter((function(t){return t.type===e})).pop();return n?n.list:[]},currentFundListRender:function(){var t=this,e=this.currentFundList,n=this.currentFundFilter;if(n){var i=n.recents,u=n.eachYears,s=n.star,o=n.noMoreThanPay,p=n.keyword,d=e.filter((function(t){return!(s&&!Number.isNaN(+s))||t.star>=+s})).filter((function(t){return!(o&&!Number.isNaN(+o))||t.minPayMoney<=+o})).filter((function(t){return!p||t.name.indexOf(p)>-1})),h=[],y={},m=function(t,e){t.forEach((function(t,n){var r=t.code,i=n+1;y[r]||(y[r]=[]),y[r].push({weight:i,weightText:e(i)})}))},F=function(t){return y[t].reduce((function(t,e){return t+e.weight}),0)/y[t].length};return i.forEach((function(e,n){var r=e.times,i=e.limits,u=n===l.Month?f.TimeUnit.Month:f.TimeUnit.Year;r.forEach((function(e,r){var a=i[r];if(a&&!Number.isNaN(+a)){var s=function(t){return t.incomesRecent.find((function(t){return t.timeFromNow===e&&t.timeUnit===u}))},l=d.sort((function(t,e){return v(s(t),s(e))})).slice(0,+a);m(l,(function(r){return e+" "+t.getRecentTimeText(n)+"内排名第 "+r})),h.push(l)}}))})),u.forEach((function(e,n){if(e&&!Number.isNaN(+e)){var r=t.years[n],i=function(t){return t.incomesEveryYear.find((function(t){return t.year===r}))},u=d.sort((function(t,e){return v(i(t),i(e))})).slice(0,+e);m(u,(function(t){return r+" 年排名第 "+t})),h.push(u)}})),h.length&&(d=(d=(d=c.default.intersectionBy.apply(c.default,a(h,["code"]))).sort((function(t,e){var n=t.code,r=e.code;return F(n)-F(r)}))).map((function(t){var e=t.code,n=y[e].map((function(t){return t.weightText}));return r(r({},t),{weightTexts:n})}))),d}return e}},mounted:function(){return i(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return[4,d()];case 1:return t=e.sent(),this.fundList=t,this.initCurrentFundType(),this.initFundFilters(),[2]}}))}))},methods:{initCurrentFundType:function(){this.currentFundType=this.fundList.length?this.fundList[0].type:f.FundType.Cash},initFundFilters:function(){var t=this,e=this.fundList.map((function(e){return{type:e.type,recents:t.initRecents(),eachYears:["","","","","","","",""],star:"",noMoreThanPay:"",keyword:""}}));this.fundFilters=e},initRecents:function(){return[{times:[1,3,6],limits:["","",""]},{times:[1,3],limits:["",""]}]},getRecentTimeText:function(t){return t===l.Month?"个月":"年"}}})},511:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.fundList.length?n("div",{staticClass:"long-top-space"},[n("el-row",{staticClass:"top-space"},[n("el-col",t._l(t.fundList,(function(e){return n("el-radio",{key:e.type,attrs:{label:e.type},model:{value:t.currentFundType,callback:function(e){t.currentFundType=e},expression:"currentFundType"}},[t._v("\n        "+t._s(t.fundTypeMapToName[e.type])+"\n      ")])})),1)],1),t._v(" "),t.currentFundFilter?n("el-collapse",{staticClass:"top-space"},[n("el-collapse-item",{attrs:{title:"根据最近一段时间的收益率排名来筛选"}},t._l(t.currentFundFilter.recents,(function(e,r){return n("el-row",{key:r,staticClass:"top-space",attrs:{gutter:20}},t._l(e.times,(function(i,u){return n("el-col",{key:i,attrs:{span:8}},[n("div",{staticClass:"row"},[n("span",[t._v(t._s(i)+" "+t._s(t.getRecentTimeText(r))+"内排名前")]),t._v(" "),n("el-input",{staticClass:"input left-space right-space",attrs:{placeholder:"不限",size:"mini",type:"text"},model:{value:e.limits[u],callback:function(n){t.$set(e.limits,u,n)},expression:"recentFilter.limits[timeIndex]"}}),t._v(" "),n("span",[t._v("位的基金")])],1)])})),1)})),1),t._v(" "),n("el-collapse-item",{attrs:{title:"根据最近几年每年的收益率排名来筛选"}},t._l(t.yearsRender,(function(e,r){return n("el-row",{key:r,staticClass:"top-space",attrs:{gutter:20}},t._l(e,(function(e,i){return n("el-col",{key:e,attrs:{span:8}},[n("div",{staticClass:"row"},[n("span",[t._v(t._s(e)+" 年排名前")]),t._v(" "),n("el-input",{staticClass:"input left-space right-space",attrs:{placeholder:"不限",size:"mini",type:"text"},model:{value:t.currentFundFilter.eachYears[i+3*r],callback:function(e){t.$set(t.currentFundFilter.eachYears,i+3*r,e)},expression:"currentFundFilter.eachYears[yearIndex + 3 * index]"}}),t._v(" "),n("span",[t._v("位的基金")])],1)])})),1)})),1),t._v(" "),n("el-collapse-item",{attrs:{title:"其他过滤的选项"}},[n("el-row",{staticClass:"top-space",attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("div",{staticClass:"row"},[n("el-input",{staticClass:"input right-space",attrs:{placeholder:"0",size:"mini",type:"text"},model:{value:t.currentFundFilter.star,callback:function(e){t.$set(t.currentFundFilter,"star",e)},expression:"currentFundFilter.star"}}),t._v(" "),n("span",[t._v("星级以上的评分")])],1)]),t._v(" "),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"row"},[n("span",[t._v("起购的金额不超过")]),t._v(" "),n("el-input",{staticClass:"middle-input left-space",attrs:{placeholder:"不限",size:"mini",type:"text"},model:{value:t.currentFundFilter.noMoreThanPay,callback:function(e){t.$set(t.currentFundFilter,"noMoreThanPay",e)},expression:"currentFundFilter.noMoreThanPay"}})],1)])],1),t._v(" "),n("el-row",{staticClass:"top-space",attrs:{gutter:20}},[n("el-col",[n("div",{staticClass:"row"},[n("span",[t._v("按基金名称过滤")]),t._v(" "),n("el-input",{staticClass:"long-input left-space",attrs:{placeholder:"请输入基金名称中的关键词",size:"mini",type:"text"},model:{value:t.currentFundFilter.keyword,callback:function(e){t.$set(t.currentFundFilter,"keyword",e)},expression:"currentFundFilter.keyword"}})],1)])],1)],1)],1):t._e(),t._v(" "),n("el-table",{staticClass:"common-table long-top-space",attrs:{stripe:"",border:"",data:t.currentFundListRender}},[n("el-table-column",{attrs:{prop:"name",label:"基金名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:"基金子类"}}),t._v(" "),n("el-table-column",{attrs:{prop:"money",sortable:"",label:"基金规模（单位：亿）",width:"200"}}),t._v(" "),n("el-table-column",{attrs:{label:"基金排名"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.weightTexts?n("div",t._l(e.row.weightTexts,(function(r,i){return n("span",{key:r},[t._v("\n            "+t._s(r)+"\n            "+t._s(e.row.weightTexts.length>0&&i!==e.row.weightTexts.length-1?", ":"")+"\n          ")])})),0):n("span",[t._v("暂无数据")])]}}],null,!1,3960136984)}),t._v(" "),n("el-table-column",{attrs:{label:"基金详情"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("a",{attrs:{href:e.row.detailLink}},[t._v("点击跳转")])]}}],null,!1,1062362431)})],1)],1):t._e()},i=[]},514:function(t,e,n){"use strict";n.r(e);var r=n(511),i=n(442);for(var u in i)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(u);var a=n(56),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);e.default=s.exports}}]);